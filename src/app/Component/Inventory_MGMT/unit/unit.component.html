<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<br>
<div class="container">
    <!-- Create / Update Form -->
    <div class="card p-3 mb-3">
      <legend class="w-auto px-1" style="padding-top: 0px;"><span style="color: red;">{{ isEditMode ? 'Update' : 'Create' }} Units</span></legend>

      <fieldset class="border p-4" style="padding-top: 5px;">
    
        <form [formGroup]="UnitForm" (ngSubmit)="onSubmit()">
          <div class="mb-1">
            <label for="UnitId" class="form-label">Units ID</label>
            <input
              type="text"
              id="UnitId"
              class="form-control"
              formControlName="UnitId"
              placeholder="Auto-generated ID"
              [readonly]="true" 
            />
          </div>
    
          <div class="mb-3">
            <label for="UnitName" class="form-label">Units Name</label>
            <input
              type="text"
              id="UnitName"
              class="form-control"
              formControlName="UnitName"
              placeholder="Enter Unit Name"
            />
            <div *ngIf="UnitForm.get('UnitName')?.invalid && UnitForm.get('UnitName')?.touched" class="text-danger">
                Units Name is required.
            </div>
          </div>
          <div class="mb-3">
            <button type="submit" class="btn btn-primary me-2" [disabled]="UnitForm.invalid">
              {{ isEditMode ? 'Update' : 'Create' }}
            </button>
            <button *ngIf="isEditMode" type="button" class="btn btn-secondary" (click)="cancelEdit()">
              Cancel
            </button>
          </div>
        </form>
      </fieldset>
    </div>
    
  
    <!-- Grid for Categories -->
    <!-- Grid for Categories -->
    <div class="card p-4" style="max-height: 400px; overflow-y: auto;">
      <div class="d-flex justify-content-between align-items-center mb-3">
        <legend class="w-auto px-1" style="padding-top: -1px;">Units List</legend>
    
        <!-- Search Bar -->
        <input
          class="form-control w-50"
          (keyup)="applyFilter($event)"
          placeholder="Search by Unit Name"
        />
      </div>


        <table class="table table-bordered table-hover">
          <thead class="table-dark">
            <tr>
              <th style="width: 5%;">#</th>
              <th style="width: 70%;">Units Name</th>
              <th style="width: 25%;">Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let Units of filteredUsers">
              <td>{{ Units.unitId }}</td>
              <td>{{ Units.unitName }}</td>
              <td>
                <button class="btn btn-sm btn-warning me-2" (click)="editUnit(Units)">
                  Edit
                </button>
                <button class="btn btn-sm btn-danger" (click)="deleterecord(Units.unitsId)">
                  Delete
                </button>
              </td>
            </tr>
          </tbody>
        </table>

        <div *ngIf="Unit.length === 0" class="text-center text-muted mt-3">
          No categories found.
        </div>
      </div>

</div>
  